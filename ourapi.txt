VSPAY API

ğŸ‡ºğŸ‡¸
EN
Getting Started
Introduction
Authentication
Error Codes
Pay-In (Deposits)
Create Order
Query Status
Pay-In Callback
Pay-Out (Withdrawals)
Bank Transfer
USDT Transfer
Query Status
Payout Callback
Utilities
Check Balance
Introduction
Welcome to the VSPAY Payment Gateway API. This documentation provides a comprehensive guide to integrating our secure payment solutions.

Version 2.1
Base URL https://vspay.vip

All requests must be made over HTTPS with Content-Type: application/json.

Authentication
We strictly use Header-Based Authentication using HMAC-MD5 signatures. Every request must be authenticated.

Required Headers
Header	Example Value	Description
x-merchant-id	550e8400-e29b...	Your unique Merchant UUID.
x-signature	A1B2C3D4E5...	The MD5 hash of your request body.
Generating the Signature
Formula
1. <strong>Sort</strong> all body parameters alphabetically by key (ASCII).
2. <strong>Remove</strong> empty values and the <code>sign</code> field (if present).
3. <strong>Join</strong> with <code>&</code> in <code>key=value</code> format.
4. <strong>Append</strong> <code>&secret=YOUR_MERCHANT_SECRET_KEY</code>.
5. <strong>Hash</strong> using MD5 and convert to uppercase.
Node.js Example
 Copy
const crypto = require('crypto');

function generateSignature(params, secretKey) {
    const filtered = {};
    Object.keys(params).forEach(key => {
        if (key !== 'sign' && params[key] !== '' && params[key] != null) {
            filtered[key] = params[key];
        }
    });
    const sorted = Object.keys(filtered).sort();
    const query = sorted.map(k => `${k}=${filtered[k]}`).join('&');
    const str = `${query}&secret=${secretKey}`;
    return crypto.createHash('md5').update(str).digest('hex').toUpperCase();
}
PHP Example
 Copy
function generateSignature($params, $secretKey) {
    $filtered = array_filter($params, fn($v) => $v !== '' && $v !== null);
    unset($filtered['sign']);
    ksort($filtered);
    $parts = [];
    foreach ($filtered as $k => $v) $parts[] = "$k=$v";
    $str = implode('&', $parts) . "&secret=$secretKey";
    return strtoupper(md5($str));
}
Error Codes
Standard response codes returned by the API.

Code	Meaning / å«ä¹‰
1	Success / æˆåŠŸ
0	Failed / å¤±è´¥
-1	Invalid signature / ç­¾åé”™è¯¯
-2	Missing parameters / ç¼ºå°‘å‚æ•°
-3	Insufficient balance / ä½™é¢ä¸è¶³
-4	Order not found / è®¢å•ä¸å­˜åœ¨
Status Values / çŠ¶æ€å€¼
Status	Meaning / å«ä¹‰
pending	Awaiting payment / ç­‰å¾…æ”¯ä»˜
processing	Being processed / å¤„ç†ä¸­
success	Completed successfully / æˆåŠŸå®Œæˆ
failed	Failed / å¤±è´¥
Create Order
Generate a payment link to collect funds from a user.

POST/api/payin/create

Parameter	Type	Description
orderId	String Required	Unique Order ID (Max 64 chars) / å”¯ä¸€è®¢å•å·
orderAmount	Number Required	Amount to collect (Min â‚¹100) / æ”¶æ¬¾é‡‘é¢
callbackUrl	String Required	Webhook URL for notifications / å›è°ƒé€šçŸ¥åœ°å€
skipUrl	String Optional	Redirect URL after payment / æ”¯ä»˜åè·³è½¬åœ°å€
param	String Optional	Custom data returned in callback / è‡ªå®šä¹‰å›ä¼ æ•°æ®
Example Request
 Copy
{
    "orderId": "MC001-998877",
    "orderAmount": 500,
    "callbackUrl": "https://mysite.com/webhook",
    "skipUrl": "https://mysite.com/success"
}
Success Response
 Copy
{
    "code": 1,
    "msg": "Order created",
    "data": {
        "orderId": "MC001-998877",
        "id": "e0b5...88",
        "orderAmount": 500,
        "fee": 25,
        "paymentUrl": "https://vspay.vip/pay/DF-123456",
        "deepLinks": {
            "upi_phonepe": "phonepe://...",
            "upi_paytm": "paytmmp://...",
            "upi_gpay": "tez://upi/pay?pa=...",
            "upi_scan": "upi://pay?..."
        }
    }
}
Query Status
Check the real-time status of a deposit.

POST/api/payin/query

Public Alternative: Use POST /api/payin/check with orderId and userId (no signature required).
å…¬å¼€æ¥å£: å¯ä½¿ç”¨ /api/payin/checkï¼Œéœ€ä¼  orderId å’Œ userIdï¼ˆæ— éœ€ç­¾åï¼‰
Parameter	Type	Description
orderId	String Required	Your unique Order ID / æ‚¨çš„è®¢å•å·
Success Response
 Copy
{
    "code": 1,
    "data": {
        "orderId": "MC001-998877",
        "id": "e0b5...88",
        "status": "success",
        "amount": 500,
        "orderAmount": 500,
        "fee": 25,
        "netAmount": 475,
        "utr": "123456789012",
        "createdAt": "2025-01-01T12:00:00Z"
    }
}
Pay-In Callback
Webhook notification when a pay-in order status changes.

Callback Parameters / å›è°ƒå‚æ•°
Field	Type	Description
status	Number	1 = Success, 0 = Failed / 1æˆåŠŸ 0å¤±è´¥
amount	Number	Net amount after fees / æ‰£è´¹ååˆ°è´¦é‡‘é¢
orderAmount	Number	Original order amount / åŸå§‹è®¢å•é‡‘é¢
orderId	String	Your merchant order ID / å•†æˆ·è®¢å•å·
id	String	Gateway transaction ID / ç½‘å…³äº¤æ˜“ID
utr	String	Bank reference number / é“¶è¡Œæµæ°´å·
param	String	Your custom parameter / è‡ªå®šä¹‰å›ä¼ å‚æ•°
sign	String	MD5 signature / MD5ç­¾å
Example Callback / å›è°ƒç¤ºä¾‹
 Copy
{
    "status": 1,
    "amount": 475.00,
    "orderAmount": 500.00,
    "orderId": "MC001-998877",
    "id": "uuid-v4-string",
    "utr": "123456789012",
    "param": "custom-data",
    "sign": "A1B2C3D4E5F6..."
}
Important / é‡è¦: You must respond with plain text OK to acknowledge. We retry up to 5 times if not received.
å¿…é¡»å“åº”: æ”¶åˆ°å›è°ƒåéœ€è¿”å›çº¯æ–‡æœ¬ OKã€‚æœªæ”¶åˆ°ç¡®è®¤å°†é‡è¯•5æ¬¡ã€‚
Bank Transfer
Transfer funds to a bank account via IMPS/NEFT.

POST/api/payout/bank

Parameter	Type	Description
orderId	String Required	Unique transaction ID / å”¯ä¸€äº¤æ˜“å·
amount	Number Required	Amount (Min â‚¹100) / é‡‘é¢
account	String Required	Bank account number / é“¶è¡Œè´¦å·
ifsc	String Required	IFSC code / IFSCä»£ç 
personName	String Required	Account holder name / æ”¶æ¬¾äººå§“å
callbackUrl	String Optional	Webhook URL / å›è°ƒåœ°å€
param	String Optional	Custom data / è‡ªå®šä¹‰æ•°æ®
Success Response
 Copy
{
    "code": 1,
    "msg": "Payout submitted",
    "data": {
        "orderId": "MC001-998877",
        "id": "e0b5...88",
        "amount": 500,
        "fee": 21,
        "status": "processing"
    }
}
USDT Transfer
Transfer funds to a crypto wallet (TRC20).

POST/api/payout/usdt

Parameter	Type	Description
orderId	String Required	Unique transaction ID / äº¤æ˜“å·
amount	Number Required	Amount in INR (Min 500 USDT eq) / INRé‡‘é¢
walletAddress	String Required	Wallet address / é’±åŒ…åœ°å€
network	String Required	TRC20, ERC20, or BEP20 / ç½‘ç»œåè®®
callbackUrl	String Optional	Webhook URL / å›è°ƒåœ°å€
Success Response
 Copy
{
    "code": 1,
    "msg": "USDT payout submitted",
    "data": {
        "orderId": "MC001-998877",
        "id": "e0b5...88",
        "amount": 50000,
        "fee": 0,
        "status": "pending"
    }
}
Query Status
POST/api/payout/query

Public Alternative: Use POST /api/payout/check with orderId and userId.
å…¬å¼€æ¥å£: å¯ç”¨ /api/payout/checkï¼Œä¼  orderId å’Œ userId
Parameter	Type	Description
orderId	String Required	Payout Order ID / ä»£ä»˜è®¢å•å·
Success Response
 Copy
{
    "code": 1,
    "data": {
        "orderId": "MC001-998877",
        "id": "e0b5...88",
        "type": "bank",
        "status": "success",
        "amount": 500,
        "fee": 21,
        "utr": "123456789012",
        "createdAt": "2025-01-01T12:00:00Z"
    }
}
Payout Callback
Webhook notification when a payout order status changes.

Callback Parameters / å›è°ƒå‚æ•°
Field	Type	Description
status	Number	1 = Success, 0 = Failed / 1æˆåŠŸ 0å¤±è´¥
amount	Number	Payout amount / ä»£ä»˜é‡‘é¢
orderId	String	Your merchant order ID / å•†æˆ·è®¢å•å·
id	String	Gateway transaction ID / ç½‘å…³äº¤æ˜“ID
utr	String	Bank UTR / é“¶è¡Œæµæ°´å·
message	String	Status message / çŠ¶æ€ä¿¡æ¯
param	String	Your custom parameter / è‡ªå®šä¹‰å‚æ•°
sign	String	MD5 signature / MD5ç­¾å
Example Callback / å›è°ƒç¤ºä¾‹
 Copy
{
    "status": 1,
    "amount": 500.00,
    "orderId": "MC001-998877",
    "id": "uuid-v4-string",
    "utr": "123456789012",
    "message": "success",
    "param": "custom-data",
    "sign": "A1B2C3D4E5F6..."
}
Response Required: Return plain text OK to acknowledge.
å¿…é¡»å“åº”: è¿”å›çº¯æ–‡æœ¬ OK ç¡®è®¤æ”¶åˆ°ã€‚
Check Balance
Get your current available balance.

POST/api/balance/query

Body: {} (Empty JSON object / ç©ºJSONå¯¹è±¡)

Success Response
 Copy
{
    "code": 1,
    "msg": "Success",
    "data": {
        "availableAmount": 10050.00,
        "pendingAmount": 0,
        "totalAmount": 10050.00
    }
}